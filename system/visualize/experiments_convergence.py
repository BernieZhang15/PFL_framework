import matplotlib.pyplot as plt
import numpy as np
plt.rcParams["font.family"] = "Times New Roman"


x = np.arange(0, 1001, 40)
y_2M = [[25.66, 35.50, 61.3, 71.27, 74.43, 75.35, 76.42, 77.7, 78.79,79.17, 80.29, 80.73, 81.24, 81.48, 81.83, 81.65, 82.34,
         82.42, 82.92, 83.3, 84.00, 83.87, 84.27, 84.71, 84.54, 84.67 ],
        [8.81, 70.43, 75.65, 77.09, 77.18, 78.58, 80.03, 80.65, 80.39, 81.17, 81.38, 80.2, 81.38, 81.46, 81.37, 82.22, 82.01,
         81.3, 80.79, 81.47, 82.05, 81.87, 82.13, 82.24, 82.06, 82.28],
        [10.99, 43.27, 56.83, 62.13, 64.62, 64.13, 65.75, 65.92, 66.16, 66.27, 66.72, 66.611, 66.75, 66.73, 66.77, 66.77,
         66.74, 66.75, 66.71, 66.73, 66.73, 66.75, 66.78, 66.72, 66.68, 66.7],
        [9.95, 56.23, 60.88, 67.25, 71.16, 72.63, 75.5, 76.69, 78.26, 77.54, 78.01, 79.45, 80.04, 81.2, 79.24, 82.06, 83.1,
         82.92, 83.25, 82.93, 83.46, 82.77, 83.68, 82.73, 82.48, 83.4]]
y_5M = [[14.24, 30.08, 41.07, 48.03, 50.74, 55.23, 59.59, 63.44, 66.06, 67.5, 67.66, 68.34, 68.3, 68.67, 69.55, 70.14, 70.56,
         70.75, 71.44, 71.68, 71.82, 71.98, 72.12, 72.32, 72.29, 72.41],
        [8.13, 46.46, 52.55, 55.64, 57.14, 59.85, 61.32, 61.93, 61.81, 63.29, 64.39, 63.1, 64.83, 65.4, 65.68, 66.41, 66.92,
         67.8, 67.92, 68.24, 68.58, 69.12, 69.07, 69.24, 69.54, 69.33],
        [9.95, 42.58, 57.47, 62.11, 63.14, 65.8, 67.17, 65.88, 67.26, 68.12, 67.98, 68.4, 68.45, 68.51, 68.5, 68.61, 68.66,
         68.61, 68.6, 68.58, 68.63, 68.62, 68.62, 68.62, 68.63, 68.64],
        [9.95, 29.19, 39.81, 44.94, 49.82, 53.65, 58.92, 58.39, 60.46, 63.26, 65.36, 66.26, 67.07, 67.88, 68.67, 68.21, 69.56,
         70.39, 70.59, 69.13, 69.66, 69.34, 68.93, 68.34, 68.79, 68.9]
        ]

# Plot the simulated Test_acc graph
plt.figure(figsize=(8, 5))
plt.plot(x, y_2M[2], label="FedAvg", color="#2E86C1", linewidth=2)
plt.plot(x, y_2M[3], label="Per-FedAvg", color="#EF767A", linewidth=2)
plt.plot(x, y_2M[1], label="pFedBayes", color="#456990", linewidth=2)
plt.plot(x, y_2M[0], label="LR-BPFL(ours)", color="#48C0AA", linewidth=2)

plt.xlabel("Epochs", size=15)
plt.ylabel("Accuracy (%)", size=15)
plt.title("Test Accuracy over Epochs", size=18)

plt.xticks(size=10)
plt.yticks(size=10)

plt.xlim(0, 1000)

plt.legend(fontsize=15, loc='lower right')
plt.grid(True, alpha=0.5)
plt.show()
